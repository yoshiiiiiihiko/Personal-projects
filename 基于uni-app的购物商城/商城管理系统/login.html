<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Access-Control-Allow-Origin" content="*" />
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
		<script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet"/>
		<title></title>
	</head>
	<body background="img/bg.jpg" style="background-repeat: no-repeat; background-attachment: fixed; background-size: cover;">
		<div style="background: rgba(0,0,0,0.7);width: 100%;"><h2 style="color: white;">商城管理系统·Store Management System</h2></div>
		<div style="background: rgba(255,255,255,0.7);width: 31.25rem;height: 41.25rem; position: absolute; right: 12.25rem;top: 15.25rem;">
			<div style="text-align: center; margin-top: 3.125rem;margin-bottom: 0.625rem;">
				<img src="img/touxiang.jpg" style="width: 10.25rem;border-radius: 4em;" />
			</div>
			<h4 style="text-align: center;margin-top: 0.625rem;margin-bottom: 2.9375rem;">商城管理系统</h4>
			<div class="form-horizontal" id="app1">
				<div class="form-group" style="width: 21.25rem; margin-left: auto; margin-right: auto;">
					<input class="form-control" type="text" placeholder="请输入账号" v-model="account_name"/>
				</div>
				<div class="form-group" style="width: 21.25rem; margin-left: auto; margin-right: auto;">
					<input class="form-control" type="text" placeholder="请输入密码" v-model="account_password"/>
				</div>
				<div class="form-group" style="width: 21.25rem; margin-left: auto; margin-right: auto;margin-top: 3.125rem;">
					<input class="form-control" style="background-color: #79905A;color: #F1F1F1;" type="button" value="登录" v-on:click="submit()"/>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			var app1 = new Vue({
				el:'#app1',
				data:{
					account_name:"",
					account_password:""
				},
				methods:{
					submit(){
						if(this.account_name == ""){
							alert("用户名不能为空")
							return
						}
						if(this.account_password == ""){
							alert("密码不能为空")
							return
						}
						$.ajax({
							type:"post",
							url:"http://localhost:8080/store/login_admin",
							data:{
								account_name:this.account_name,
								account_password:this.account_password,
							},
							dataType:"json",
							contentType:"application/x-www-form-urlencoded",
							success:function(data) {
								if(data != false){
									alert("登录成功，欢迎！")
									window.location.replace("index.html")
								}else{
									alert("用户名或密码错误")
									return
								}
							}
						});
					}
				}
			})
		</script>
	</body>
</html>
